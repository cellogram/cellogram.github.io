{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Tobias Lendenmann 1,2 , Teseo Schneider 2 , J\u00e9r\u00e9mie Dumas 2,3 , Marco Tarini 4 , Apratim Bajpai 5 , Weiqiang Chen 5 , Dimos Poulikakos 1 , Aldo Ferrari 7,1,6 *, Daniele Panozzo 2 * 1 ETH Zurich, Laboratory of Thermodynamics in Emerging Technologies, 8092 Zurich, Switzerland 2 New York University, Courant Institute of Mathematical Sciences, New York 10003, USA 3 nTopology, New York 10013, USA 4 Universit\u00e0 degli Studi di Milano, Department of Computer Science, 20133 Milano, Italy 5 New York University, Department of Mechanical and Aerospace Engineering, New York 11201, USA 6 ETH Zurich, Institute for Mechanical Systems, 8092 Z\u00fcrich, Switzerland 7 EMPA, Swiss Federal Laboratories for Materials Science and Technology, 8600 D\u00fcbendorf, Switzerland Introduction \u00b6 The Cellogram software package contains custom-developed software for the analysis of reference free traction force images. The software comprises of marker detection, reference position estimation and finite element analysis in order to compute surface traction fields. Details on the underlying algorithms are provided in the supplementary information. The entire code is contained in \u201csrc\u201d folder. The Cellogram binary is in the \u201cbinary\u201d folder (there is no need to compile the code). A folder with examples of deformed quantum dot arrays and pillars are provided in the \u201cdata\u201d folder. Required software and installation guides \u00b6 Cellogram does not require any commercial software and was tested on Windows 10 Enterprise and Mac OS X 10.14. The executable is not signed, therefore on Mac it requires to enable the option to run untrusted applications. The simplest way is to right click on Cellogram, select \u201copen\u201d and allow it to open in any subsequent dialogues. Note that you might need to allow running apps from not coming from the apple store. To do so, go to \u201cSystem Preferences\u201d \u201cSecurity & Privacy\u201d the General tab and click the \u201cApp Store and identified developers\u201d radio button (this step requires admin priviledges). Cellogram instructions \u00b6 This section explains the most important steps to calculate the traction forces for an image. For a detailed explanation of all the fields, see Section 4. Save the progress at any time during this process by clicking \u201cFile\u201d \u201cSave\u201d or the floppy disk icon. Loading image \u00b6 The mouse navigates in the user interface (UI). Right click and drag moves the field of view. The mouse wheel zooms in and out. When Cellogram starts up there is no image loaded. First, click on the \u201cLoad Image\u201d in the UI or select \u201cFile\u201d \u201cLoad Image\u201d ( Figure 1: Stage 1 - Detection ). Navigate to a grayscale image in Portable Network Graphics (png) or Tagged Image File Format (tiff) format and select and load the image. The image should appear as seen in the screenshot in Figure 1. Figure 1. Stage 1 - Detection Marker detection \u00b6 For the detection of the markers Gaussian are fitted in the image. The fields under \u201cStage 1 \u2013 Detection\u201d are \u201cSigma\u201d which determines the size of the Gaussian that are fitted. A good starting value for is 1.5 and 3 for QDs and pillars, respectively. This value may need to adjusted depending on magnification and marker size. To start detection click on the \u201cDetect\u201d button. In case markers are missed, or detected incorrectly they can be added or deleted under \u201cAdvanced vertex options\u201d or with the hot-keys \u201ca\u201d and \u201cd\u201d . Reference estimation \u00b6 The connectivity of the mesh is found by clicking on the right arrow button in \u201cStage 1 \u2013 Detection\u201d menu ( Figure 1 ). If the meshing step finds missing or surplus markers, it fixes them. Removed markers are marked orange, while added markers are green. Should there be added marker, the user has the option to move the added marker to the correct position by clicking \u201cMove vertex\u201d in the \u201cStage 2 \u2013 Meshing\u201d menu before proceeding. Next click on the right arrow button to relax the mesh and find the reference position. The displacements become visible ( Figure 2 ). Figure 2. Stage 3 - Analysis Finite element analysis \u00b6 For the finite element analysis (FEA) enter the material parameters in the \u201cStage 3 \u2013 Analysis\u201d menu. Hover the fields to get information on the individual fields and units. Next click \u201cBuild volumetric mesh\u201d to generate a finer mesh for the analysis ( Figure 2 ). The density of the mesh is tuned in the \u201cAdvanced mesh option \u201d see Section 4 for details. Once the mesh is available, click the right arrow button to start the FEA. Results \u00b6 Once the FEA is complete and the \u201cResults\u201d menu is visible ( Figure 3 ). At this point the process is complete but the viewer has options to either show the displacements \u201cU\u201d or the tractions \u201cT\u201d . {width=\u201d6.291666666666667in\u201d height=\u201d4.28125in\u201d} Figure 3. Results Command-line Interface \u00b6 One asset of Cellogram is the possibility to process large amounts of data in automatically in a batch process. For this the command-line interface needs to be used. The command-line interface options are visible in Table 1 . -h --help Print help message and exit -i --input TEXT Input image. -s --settings TEXT Path to json settings -f --file TEXT Path to saved data for scene -b --begin INT From which phase to run the script -e --end INT Until which phase to run the script -c --cmd Run without GUI Table **1*.*** Command-line interface options -i --input. This input is followed by a path to the image that is analyzed. For a batch process, iterate over different images -s --settings. This input determines the path to a json file that contains non-default parameters for Cellogram. The easiest way to generate this, is by running one image with the UI and saving a json of the data, which will include the settings. -c. Add this flag to not show the UI. This flag is required to do automatic processing. If it omitted, then Cellogram will only load the input file and the settings, but not do any processing. -f --file. If there is already data available, with which the batch process should start, then the path to this file is given with this argument. Be sure to adjust \u201c-b\u201d to not start from the first stage. -b --begin. Followed by an integer. See below which integer to choose: 0: Fresh start 1: Start with detection 2: Start with reference position estimation 3: Start with FEA -e --end. Followed by an integer. See below which integer to choose: 1: End after detection 2: End after reference position estimation 3: End after FEA Examples \u00b6 Start Cellogram with image and settings: .\\Cellogram.exe -i .\\TestImages\\QDs\\1.tif -s .\\TestImages\\QDs\\1\\settings.json Start Cellogram and run full analysis with default settings .\\Cellogram.exe -i .\\test.tif -c Start Cellogram and run full analysis with custom settings .\\Cellogram.exe -i .\\test.tif -s .\\settings.json -c Start Cellogram and run FEA only with custom settings and loading available data .\\Cellogram.exe -i .\\test.tif -s .\\settings.json -f .\\test\\all.json -b 3 -e 3 -c Documentation \u00b6 Many fields in the UI have tool-tips when hovered. If the tool-tips do not help find the explanation for every button, field and panel below. Menu bar File Load Image: To load a gray scale image (png, tiff) navigate to the directory where the image is stored and load it. Save: This will save the current scene (detected positions, mesh, etc.) as a json in the standard location (directory of image in a subdirectory with the image's name) under the standard name ( \u201call\u201d ) Save as: Same as \u201cSave\u201d but gives the option to choose the directory and file name Quit:\\ Closes Cellogram View Image: Toggle displaying the image Points: Toggle displaying the detected markers Points Color (color picker): Pick color of displayed markers Mesh: Toggle displaying retrieved mesh Mesh Color (color picker) Pick color of retrieved mesh Mesh Fill: Toggle the fill of the mesh faces Displacements: Toggle the visualization of displacements Traction: Toggle to show tractions Point size (slider): Change the displayed size of detected markers Input File \u00b6 Load Image Load a gray scale image (png, tiff). Navigate to the directory where the image is stored and load it. Load data (icon): If data is available as a json in the standard location (directory of image in a subdirectory with the image's name) under the standard name ( \u201call\u201d ), this button is enabled. It will load previously stored data and jump to the last available stage in the analysis process. Save data (icon) Saves current scene as a json in the standard location (directory of image in a subdirectory with the image's name) under the standard name ( \u201call\u201d ) Stage 1 - Detection \u00b6 In this stage, Cellogram detects the markers in the image. There are options for helping out the detection algorithm. Sigma: Determines size of Gaussian for fitting to the markers in the image. If too many markers are detected, Sigma should be increased. Otsu: Cellogram generates a binary mask of the image at the Otsu-threshold level. However, this level is scaled with the factor entered here. If markers in dark regions are missed in the detection, lower this value. Detect: Initiates detection Histogram (graph): Histogram of pixel intensities in the image. Green bars left and right indicate the minimum and maximum value displayed. min (slider): Adjust the minimum pixel intensity displayed to stretch contrast in the image. This aids manual detection only. max (slider): Adjust the maximum pixel intensity displayed to stretch contrast in the image. This aids manual detection only. Advanced vertex options Delete (icon): Activates deleting of incorrectly detected markers by clicking on them with the red crosshair. Hotkey is \u201cd\u201d . Deactivate by clicking on the \u201cDelete\u201d button again. Add (icon): Activates adding of undetected markers by clicking on them with the green crosshair. Hotkey is \u201ca\u201d . Deactivate by clicking on the \u201cAdd\u201d button again. Move (icon): Move a vertex to a new position by dragging Back (icon): Removes image and detected points Next (icon): Advance to \u201cStage 2 \u2013 Meshing\u201d by finding the mesh connectivity Stage 2 - Meshing \u00b6 In this stage, Cellogram has found a valid connectivity of the mesh and cleaned up incorrectly detected markers. Additionally it has added points that were missed during the detection. Move vertex: In case there were previously undetected points added, the button to move points appears. Move the points to their exact position by clicking and dragging them. Stage 3 - Analysis \u00b6 Displacement (slider): Moving this slider will move the markers between their detected and reference position. Pillars: Toggle to switch between pillars and continuous substrates. Selecting \u201cPillars\u201d will display a different menu, as the processing of the two cases is different from here on out. Stage 3 - Analysis - Pillars \u00b6 Scaling: The magnification in the image with respect to the actual distance in \u03bcm/px . E: The pillar's Young's Modulus in MPa I: The pillar's area moment of inertia in \u03bcm 4 L: The pillar's length in \u03bcm Stage 3 - Analysis - Continuous \u00b6 Material Model (drop down): Selection between the material models \u201cLinear Elasticity\u201d or \u201cNeo Hooke\u201d . The fit for the following material parameters may differ, depending on the selected model. Scaling: The magnification in the image with respect to the actual distance in \u03bcm/px . E: Young's modulus in kPa nu: Poisson ratio, select 0.49 for incompressible material. Advanced mesh options: Padding: The volumetric mesh is oversized with respect to the image. This is to remove edge effects in \u03bcm. Thickness: This is the thickness of the deformable substrate \u03bcm. Relative Threshold: Toggle between the adaptive meshing criterium. Either the dense meshing is done based on a threshold with respect to the maximum displacement, or the median edge length. See below. Displ. Threshold: This threshold identifies regions that should be meshed more densely, i.e. the regions with higher deformations. If \u201cRelative Threshold\u201d is selected above, then threshold value is with respect to the maximum displacement in the image. If \u201cRelative Threshold\u201d is not selected, then the threshold value is with respect to the median edge length of the marker mesh. Edge length: Set the target edge length for the dense mesh as a percentage of the median marker mesh. Gradation: The gradation determines how strong the gradient of the mesh element sizes is. A higher value will lead to higher gradient, meaning that the mesh element will grow quickly when moving away from regions of high displacements. Build volumetric mesh: This will initiate the volumetric mesh generation Back (icon): Go back to \u201cStage 2 \u2013 Meshing\u201d Next (icon): Run the finite element analysis Results \u00b6 View (drop down) Select the displayed metric. Either \u201cU\u201d for displacements, or \u201cT\u201d for tractions. Uview (drop down) Select the element of the metric to display. Either the magnitude or one of the directional components. Smooth results Toggle between the solution and a smoothed version of the solution. In the smoothed version, the constant elements are replaced by linear elements interpolated from their vertices. Colorbar Indicates the value corresponding to the colors. For displacements in \u03bcm, for tractions in kPa . For pillars, the value given is in \u03bcN.","title":"Home"},{"location":"#introduction","text":"The Cellogram software package contains custom-developed software for the analysis of reference free traction force images. The software comprises of marker detection, reference position estimation and finite element analysis in order to compute surface traction fields. Details on the underlying algorithms are provided in the supplementary information. The entire code is contained in \u201csrc\u201d folder. The Cellogram binary is in the \u201cbinary\u201d folder (there is no need to compile the code). A folder with examples of deformed quantum dot arrays and pillars are provided in the \u201cdata\u201d folder.","title":"Introduction"},{"location":"#required-software-and-installation-guides","text":"Cellogram does not require any commercial software and was tested on Windows 10 Enterprise and Mac OS X 10.14. The executable is not signed, therefore on Mac it requires to enable the option to run untrusted applications. The simplest way is to right click on Cellogram, select \u201copen\u201d and allow it to open in any subsequent dialogues. Note that you might need to allow running apps from not coming from the apple store. To do so, go to \u201cSystem Preferences\u201d \u201cSecurity & Privacy\u201d the General tab and click the \u201cApp Store and identified developers\u201d radio button (this step requires admin priviledges).","title":"Required software and installation guides"},{"location":"#cellogram-instructions","text":"This section explains the most important steps to calculate the traction forces for an image. For a detailed explanation of all the fields, see Section 4. Save the progress at any time during this process by clicking \u201cFile\u201d \u201cSave\u201d or the floppy disk icon.","title":"Cellogram instructions"},{"location":"#loading-image","text":"The mouse navigates in the user interface (UI). Right click and drag moves the field of view. The mouse wheel zooms in and out. When Cellogram starts up there is no image loaded. First, click on the \u201cLoad Image\u201d in the UI or select \u201cFile\u201d \u201cLoad Image\u201d ( Figure 1: Stage 1 - Detection ). Navigate to a grayscale image in Portable Network Graphics (png) or Tagged Image File Format (tiff) format and select and load the image. The image should appear as seen in the screenshot in Figure 1. Figure 1. Stage 1 - Detection","title":"Loading image"},{"location":"#marker-detection","text":"For the detection of the markers Gaussian are fitted in the image. The fields under \u201cStage 1 \u2013 Detection\u201d are \u201cSigma\u201d which determines the size of the Gaussian that are fitted. A good starting value for is 1.5 and 3 for QDs and pillars, respectively. This value may need to adjusted depending on magnification and marker size. To start detection click on the \u201cDetect\u201d button. In case markers are missed, or detected incorrectly they can be added or deleted under \u201cAdvanced vertex options\u201d or with the hot-keys \u201ca\u201d and \u201cd\u201d .","title":"Marker detection"},{"location":"#reference-estimation","text":"The connectivity of the mesh is found by clicking on the right arrow button in \u201cStage 1 \u2013 Detection\u201d menu ( Figure 1 ). If the meshing step finds missing or surplus markers, it fixes them. Removed markers are marked orange, while added markers are green. Should there be added marker, the user has the option to move the added marker to the correct position by clicking \u201cMove vertex\u201d in the \u201cStage 2 \u2013 Meshing\u201d menu before proceeding. Next click on the right arrow button to relax the mesh and find the reference position. The displacements become visible ( Figure 2 ). Figure 2. Stage 3 - Analysis","title":"Reference estimation"},{"location":"#finite-element-analysis","text":"For the finite element analysis (FEA) enter the material parameters in the \u201cStage 3 \u2013 Analysis\u201d menu. Hover the fields to get information on the individual fields and units. Next click \u201cBuild volumetric mesh\u201d to generate a finer mesh for the analysis ( Figure 2 ). The density of the mesh is tuned in the \u201cAdvanced mesh option \u201d see Section 4 for details. Once the mesh is available, click the right arrow button to start the FEA.","title":"Finite element analysis"},{"location":"#results","text":"Once the FEA is complete and the \u201cResults\u201d menu is visible ( Figure 3 ). At this point the process is complete but the viewer has options to either show the displacements \u201cU\u201d or the tractions \u201cT\u201d . {width=\u201d6.291666666666667in\u201d height=\u201d4.28125in\u201d} Figure 3. Results","title":"Results"},{"location":"#command-line-interface","text":"One asset of Cellogram is the possibility to process large amounts of data in automatically in a batch process. For this the command-line interface needs to be used. The command-line interface options are visible in Table 1 . -h --help Print help message and exit -i --input TEXT Input image. -s --settings TEXT Path to json settings -f --file TEXT Path to saved data for scene -b --begin INT From which phase to run the script -e --end INT Until which phase to run the script -c --cmd Run without GUI Table **1*.*** Command-line interface options -i --input. This input is followed by a path to the image that is analyzed. For a batch process, iterate over different images -s --settings. This input determines the path to a json file that contains non-default parameters for Cellogram. The easiest way to generate this, is by running one image with the UI and saving a json of the data, which will include the settings. -c. Add this flag to not show the UI. This flag is required to do automatic processing. If it omitted, then Cellogram will only load the input file and the settings, but not do any processing. -f --file. If there is already data available, with which the batch process should start, then the path to this file is given with this argument. Be sure to adjust \u201c-b\u201d to not start from the first stage. -b --begin. Followed by an integer. See below which integer to choose: 0: Fresh start 1: Start with detection 2: Start with reference position estimation 3: Start with FEA -e --end. Followed by an integer. See below which integer to choose: 1: End after detection 2: End after reference position estimation 3: End after FEA","title":"Command-line Interface"},{"location":"#examples","text":"Start Cellogram with image and settings: .\\Cellogram.exe -i .\\TestImages\\QDs\\1.tif -s .\\TestImages\\QDs\\1\\settings.json Start Cellogram and run full analysis with default settings .\\Cellogram.exe -i .\\test.tif -c Start Cellogram and run full analysis with custom settings .\\Cellogram.exe -i .\\test.tif -s .\\settings.json -c Start Cellogram and run FEA only with custom settings and loading available data .\\Cellogram.exe -i .\\test.tif -s .\\settings.json -f .\\test\\all.json -b 3 -e 3 -c","title":"Examples"},{"location":"#documentation","text":"Many fields in the UI have tool-tips when hovered. If the tool-tips do not help find the explanation for every button, field and panel below. Menu bar File Load Image: To load a gray scale image (png, tiff) navigate to the directory where the image is stored and load it. Save: This will save the current scene (detected positions, mesh, etc.) as a json in the standard location (directory of image in a subdirectory with the image's name) under the standard name ( \u201call\u201d ) Save as: Same as \u201cSave\u201d but gives the option to choose the directory and file name Quit:\\ Closes Cellogram View Image: Toggle displaying the image Points: Toggle displaying the detected markers Points Color (color picker): Pick color of displayed markers Mesh: Toggle displaying retrieved mesh Mesh Color (color picker) Pick color of retrieved mesh Mesh Fill: Toggle the fill of the mesh faces Displacements: Toggle the visualization of displacements Traction: Toggle to show tractions Point size (slider): Change the displayed size of detected markers","title":"Documentation"},{"location":"#input-file","text":"Load Image Load a gray scale image (png, tiff). Navigate to the directory where the image is stored and load it. Load data (icon): If data is available as a json in the standard location (directory of image in a subdirectory with the image's name) under the standard name ( \u201call\u201d ), this button is enabled. It will load previously stored data and jump to the last available stage in the analysis process. Save data (icon) Saves current scene as a json in the standard location (directory of image in a subdirectory with the image's name) under the standard name ( \u201call\u201d )","title":"Input File"},{"location":"#stage-1-detection","text":"In this stage, Cellogram detects the markers in the image. There are options for helping out the detection algorithm. Sigma: Determines size of Gaussian for fitting to the markers in the image. If too many markers are detected, Sigma should be increased. Otsu: Cellogram generates a binary mask of the image at the Otsu-threshold level. However, this level is scaled with the factor entered here. If markers in dark regions are missed in the detection, lower this value. Detect: Initiates detection Histogram (graph): Histogram of pixel intensities in the image. Green bars left and right indicate the minimum and maximum value displayed. min (slider): Adjust the minimum pixel intensity displayed to stretch contrast in the image. This aids manual detection only. max (slider): Adjust the maximum pixel intensity displayed to stretch contrast in the image. This aids manual detection only. Advanced vertex options Delete (icon): Activates deleting of incorrectly detected markers by clicking on them with the red crosshair. Hotkey is \u201cd\u201d . Deactivate by clicking on the \u201cDelete\u201d button again. Add (icon): Activates adding of undetected markers by clicking on them with the green crosshair. Hotkey is \u201ca\u201d . Deactivate by clicking on the \u201cAdd\u201d button again. Move (icon): Move a vertex to a new position by dragging Back (icon): Removes image and detected points Next (icon): Advance to \u201cStage 2 \u2013 Meshing\u201d by finding the mesh connectivity","title":"Stage 1 - Detection"},{"location":"#stage-2-meshing","text":"In this stage, Cellogram has found a valid connectivity of the mesh and cleaned up incorrectly detected markers. Additionally it has added points that were missed during the detection. Move vertex: In case there were previously undetected points added, the button to move points appears. Move the points to their exact position by clicking and dragging them.","title":"Stage 2 - Meshing"},{"location":"#stage-3-analysis","text":"Displacement (slider): Moving this slider will move the markers between their detected and reference position. Pillars: Toggle to switch between pillars and continuous substrates. Selecting \u201cPillars\u201d will display a different menu, as the processing of the two cases is different from here on out.","title":"Stage 3 - Analysis"},{"location":"#stage-3-analysis-pillars","text":"Scaling: The magnification in the image with respect to the actual distance in \u03bcm/px . E: The pillar's Young's Modulus in MPa I: The pillar's area moment of inertia in \u03bcm 4 L: The pillar's length in \u03bcm","title":"Stage 3 - Analysis - Pillars"},{"location":"#stage-3-analysis-continuous","text":"Material Model (drop down): Selection between the material models \u201cLinear Elasticity\u201d or \u201cNeo Hooke\u201d . The fit for the following material parameters may differ, depending on the selected model. Scaling: The magnification in the image with respect to the actual distance in \u03bcm/px . E: Young's modulus in kPa nu: Poisson ratio, select 0.49 for incompressible material. Advanced mesh options: Padding: The volumetric mesh is oversized with respect to the image. This is to remove edge effects in \u03bcm. Thickness: This is the thickness of the deformable substrate \u03bcm. Relative Threshold: Toggle between the adaptive meshing criterium. Either the dense meshing is done based on a threshold with respect to the maximum displacement, or the median edge length. See below. Displ. Threshold: This threshold identifies regions that should be meshed more densely, i.e. the regions with higher deformations. If \u201cRelative Threshold\u201d is selected above, then threshold value is with respect to the maximum displacement in the image. If \u201cRelative Threshold\u201d is not selected, then the threshold value is with respect to the median edge length of the marker mesh. Edge length: Set the target edge length for the dense mesh as a percentage of the median marker mesh. Gradation: The gradation determines how strong the gradient of the mesh element sizes is. A higher value will lead to higher gradient, meaning that the mesh element will grow quickly when moving away from regions of high displacements. Build volumetric mesh: This will initiate the volumetric mesh generation Back (icon): Go back to \u201cStage 2 \u2013 Meshing\u201d Next (icon): Run the finite element analysis","title":"Stage 3 - Analysis - Continuous"},{"location":"#results_1","text":"View (drop down) Select the displayed metric. Either \u201cU\u201d for displacements, or \u201cT\u201d for tractions. Uview (drop down) Select the element of the metric to display. Either the magnitude or one of the directional components. Smooth results Toggle between the solution and a smoothed version of the solution. In the smoothed version, the constant elements are replaced by linear elements interpolated from their vertices. Colorbar Indicates the value corresponding to the colors. For displacements in \u03bcm, for tractions in kPa . For pillars, the value given is in \u03bcN.","title":"Results"},{"location":"tutorial/","text":"","title":"Tutorial"}]}